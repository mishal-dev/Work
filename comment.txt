module.exports = function(config) {
  config.set({
    // frameworks to use
    frameworks: ['jasmine'],

    // list of files / patterns to load in the browser
    files: [
      // your TypeScript source files and test files
      'src/**/*.ts',
      'test/**/*.spec.ts'
    ],

    // preprocessors for TypeScript files
    preprocessors: {
      // preprocess TypeScript files for coverage
      'src/**/*.ts': ['coverage'],
      // preprocess test files
      'test/**/*.spec.ts': ['typescript']
    },

    // optionally, configure the coverage reporter
    coverageReporter: {
      // specify coverage report type and destination directory
      dir: 'coverage/',
      reporters: [
        { type: 'html', subdir: 'html' },
        { type: 'lcovonly', subdir: '.' }
      ]
    },

    // optionally, configure the typescript preprocessor
    typescriptPreprocessor: {
      // options passed to the typescript compiler
      options: {
        sourceMap: true, // generate source maps
        target: 'ES5', // specify ECMAScript target version
        module: 'commonjs', // specify module code generation
      },
      transformPath: function(path) {
        return path.replace(/\.ts$/, '.js');
      }
    },

    // optionally, configure the typescript compiler
    typescriptOptions: {
      // options passed to the typescript compiler
      compilerOptions: {
        module: 'commonjs', // specify module code generation
        target: 'ES5', // specify ECMAScript target version
        sourceMap: true // generate source maps
      }
    },

    // reporters
    reporters: ['progress', 'coverage'],

    // browsers
    browsers: ['Chrome'],

    // level of logging
    logLevel: config.LOG_INFO,

    // enable / disable watching file and executing tests whenever any file changes
    autoWatch: true,

    // start these browsers
    // available browser launchers: https://npmjs.org/browse/keyword/karma-launcher
    singleRun: false
  });
};